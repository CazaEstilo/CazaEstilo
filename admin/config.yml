backend:
  name: github                                    # <--- CLAVE: Usar GitHub
  repo: cazaestilo/CazaEstilo                     # Tu repositorio
  branch: main
  base_url: https://github.com
  auth_url: /authorize
  
# CONFIGURACIÓN DE RUTAS SIMPLIFICADAS (Elimina el conflicto de subdirectorio)
# Esto le dice al CMS que el sitio está en la raíz, resolviendo el TypeError.
base_url: /
site_url: https://cazaestilo.github.io/ 

# Configuraciones de Medios
media_folder: "assets/img/products" 
public_folder: "/assets/img/products" 

# Define la estructura de los productos
collections:
  - name: "productos" 
    label: "Productos Destacados" 
    folder: "_productos" 
    create: true 
    slug: "{{slug}}"
    format: "json" 
    fields: 
      - {label: "Nombre del Producto", name: "title", widget: "string"}
      - {label: "Descripción Detallada", name: "body", widget: "markdown", required: true}
      - {label: "Precio (COP)", name: "price", widget: "number", value_type: "int", min: 0, step: 100}
      - {label: "Stock Disponible (0 = Agotado)", name: "stock", widget: "number", value_type: "int", min: 0, default: 1}
      - {label: "Calidad (%)", name: "quality", widget: "number", value_type: "int", min: 0, max: 100, default: 100}
      - label: "Imágenes del Carrusel (Max 3)"
        name: "images"
        widget: "list"
        max: 3
        min: 1
        fields:
          - {label: "Imagen", name: "image", widget: "image", choose_url: false, allow_multiple: false}