/* =======================================
    ESTILOS BASE Y VARIABLES (Dorado y Negro)
    ======================================= */

:root {
    /* --- Paleta de Colores --- */
    --color-primary: #d4af37; /* Dorado principal */
    --color-secondary: #0a0a0a; /* Negro profundo (Fondo principal) */
    --color-dark-surface: #1a1a1a; /* Superficie/Tarjeta oscura (Antes dark-grey) */
    --color-off-white: #f5f5f5; /* Blanco sucio (Antes light-grey) */
    --color-white: #fff;
    --color-text-subtle: #ccc; /* Texto secundario (Antes text-light) */
    
    /* --- Utilidades --- */
    --transition-fast: 0.2s; 
    --transition-medium: 0.4s; /* Usado para efectos grandes */
    --color-primary-rgb: 212, 175, 55; /* RGB para sombras/glow */
    
    /* --- Social/Acción --- */
    --color-whatsapp: #25D366; 
    --color-whatsapp-dark: #128C7E;
    --color-error: #e74c3c; /* Para mensajes de error/agotado */
    --shadow-base: 0 4px 10px rgba(0, 0, 0, 0.5);
    --shadow-hover: 0 8px 20px rgba(0, 0, 0, 0.7);
}

/* Base global - Optimización en tipografía y resets */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

html {
    scroll-behavior: smooth;
    font-size: 16px; /* Establecer base de rem */
}

body {
    font-family: 'Montserrat', sans-serif;
    /* MEJORA 1: Fondo con un sutil efecto de 'polvo de estrellas' o ruido visual (opcional) */
    background: 
        radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.03) 1px, transparent 0),
        radial-gradient(circle at 90% 90%, rgba(255, 255, 255, 0.03) 1px, transparent 0),
        linear-gradient(180deg, var(--color-secondary) 0%, #1c1c1c 100%);
    color: var(--color-off-white);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    overflow-x: hidden; 
}

/* Tipografía de Títulos (Usa las fuentes específicas para un look más fuerte) */
h1, h2, h3 {
    font-family: 'Bebas Neue', sans-serif;
    letter-spacing: 2px;
}

/* --- MEJORA 2: ACCESIBILIDAD/UX (Focus States UNIFICADOS y robustos) --- */
/* Unificar el focus state para todos los elementos interactivos */
a:focus,
button:focus,
input:focus,
select:focus {
    outline: 3px solid var(--color-primary); /* Contorno dorado de la marca */
    outline-offset: 3px;
    border-radius: 5px;
}

/* Eliminar el outline por defecto en elementos que ya tienen un hover visible si es necesario, 
   pero se mantiene la regla global para máxima accesibilidad. */
/* FIN MEJORA 2 */

/* Contenedor general */
.container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 2rem;
}

/* =======================================
    COMPONENTES UI GLOBALES
    ======================================= */

/* --- Botones (Clase .btn modularizada) --- */
.btn {
    padding: 12px 25px; /* Ligeramente más padding horizontal */
    font-size: 1rem;
    font-weight: 700;
    text-align: center;
    text-decoration: none;
    border-radius: 8px;
    cursor: pointer;
    transition: all var(--transition-fast) ease;
    border: 2px solid; 
    text-transform: uppercase;
    display: inline-flex; /* Permite usar gap y alinear iconos */
    align-items: center;
    justify-content: center;
    gap: 8px;
}

.btn-primary {
    background: var(--color-primary);
    color: var(--color-secondary);
    border-color: var(--color-primary);
    box-shadow: 0 4px 10px rgba(var(--color-primary-rgb), 0.3);
}
.btn-primary:hover {
    background: var(--color-white);
    border-color: var(--color-white);
    transform: translateY(-2px);
    box-shadow: 0 6px 15px rgba(var(--color-primary-rgb), 0.5);
}

.btn-secondary {
    background: var(--color-dark-surface);
    color: var(--color-primary);
    border-color: var(--color-primary);
}
.btn-secondary:hover {
    background: var(--color-primary);
    color: var(--color-secondary);
    box-shadow: 0 4px 10px rgba(var(--color-primary-rgb), 0.5);
    transform: translateY(-2px);
}

.btn-whatsapp-theme { /* Usado para todos los botones de WhatsApp */
    background: transparent; 
    color: var(--color-whatsapp); 
    border-color: var(--color-whatsapp); 
}
.btn-whatsapp-theme:hover {
    background: var(--color-whatsapp);
    color: var(--color-white);
    border-color: var(--color-whatsapp);
    box-shadow: 0 6px 15px rgba(37, 211, 102, 0.4);
    transform: translateY(-2px);
}

/* Loader */
.loader-overlay {
    /* ... [Estilos existentes] ... */
    transition: opacity var(--transition-medium) ease-out, visibility var(--transition-medium) ease-out; 
}

/* =======================================
    NAVBAR Y CABECERA (Header)
    ======================================= */

/* Navbar */
.navbar {
    /* ... [Estilos existentes] ... */
    transition: background-color var(--transition-fast) ease;
}

/* MEJORA 3: Navbar Scrolled con mayor contraste visual y `backdrop-filter` */
.navbar.scrolled {
    background-color: rgba(10, 10, 10, 0.9); /* Un poco más de contraste que 0.8 */
    backdrop-filter: blur(10px); /* Un blur más notorio */
    -webkit-backdrop-filter: blur(10px);
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.9); /* Sombra más intensa */
}
/* FIN MEJORA 3 */

/* Logo Hover */
.navbar .logo img {
    max-height: 70px; 
    transition: transform var(--transition-fast) ease;
}
.navbar .logo img:hover {
    transform: scale(1.05);
}

/* Botón de Carrito (Unificar con .btn-primary) */
.nav-btn-design {
    /* Usa .btn base y se añaden los estilos del dorado primario */
    @extend .btn-primary; /* Esto es pseudocódigo de preprocesador, en CSS nativo se reemplaza */
    padding: 10px 18px; /* Ajuste para el tamaño original del navbar */
    box-shadow: 0 4px 15px rgba(var(--color-primary-rgb), 0.5);
}
.nav-btn-design:hover {
    /* Usar los estilos :hover de .btn-primary */
    background: var(--color-white);
    color: var(--color-secondary);
    box-shadow: 0 6px 20px rgba(var(--color-primary-rgb), 0.7);
    transform: scale(1.05); /* Mantener la escala */
}

/* Header */
header {
    /* ... [Estilos existentes] ... */
    transition: opacity 1s ease-out;
}
header::before {
    /* MEJORA 4: Sutil Gradiente Oscuro para un efecto más cinematográfico */
    background: linear-gradient(0deg, rgba(0, 0, 0, 0.8) 0%, rgba(0, 0, 0, 0.4) 50%, rgba(0, 0, 0, 0.8) 100%);
    z-index: 1;
}

header h1 {
    font-size: clamp(3rem, 10vw, 5.5rem); /* Uso de clamp() para mejor responsividad de títulos */
    text-shadow: 0 0 15px rgba(var(--color-primary-rgb), 1); /* Sombra más fuerte */
}

header p {
    font-size: clamp(1.5rem, 5vw, 2.5rem);
}

header a.btn {
    /* Unificar con .btn-secondary, pero con la función de un botón primario de cabecera. 
       Se mantiene el estilo custom por su diseño específico de bordes redondeados (pill). */
    background: var(--color-primary);
    color: var(--color-secondary);
    border: 2px solid var(--color-primary);
    padding: 15px 35px; 
    font-size: 1.1rem;
    border-radius: 50px; 
}
header a.btn:hover {
    background: var(--color-white);
    transform: scale(1.05);
    box-shadow: 0 8px 20px rgba(var(--color-primary-rgb), 0.7);
}

/* =======================================
    SECCIONES GENERALES
    ======================================= */

section {
    padding: 6rem 0;
    background: var(--color-dark-surface); /* Uso de la variable revisada */
    border-bottom: 1px solid #2a2a2a;
    transition: opacity 1s ease-out, transform 1s ease-out;
}

h2 {
    font-size: clamp(3rem, 7vw, 4rem);
    text-shadow: 0 0 10px rgba(var(--color-primary-rgb), 0.5); /* Usar variable para el glow */
    color: var(--color-primary);
    margin-bottom: 4rem;
}

/* --- PRODUCTOS --- */
.product {
    background: var(--color-secondary); 
    border: 1px solid #333;
    transition: transform var(--transition-medium) ease-in-out, box-shadow var(--transition-medium) ease-in-out, border-color var(--transition-medium) ease-in-out;
}

/* MEJORA 5: Borde de Brillo en Hover con 'outline' para evitar el reflow */
.product:hover {
    transform: translateY(-10px); 
    box-shadow: 0 20px 40px rgba(var(--color-primary-rgb), 0.4); 
    /* El truco del "borde" de brillo, es mejor usar box-shadow con un inset o un outline animado. 
       Manteniendo tu enfoque, uso outline en lugar de border para no mover los elementos adyacentes. */
    outline: 1px solid var(--color-primary); 
    outline-offset: -1px; /* Para que quede justo en el borde */
    border-color: var(--color-primary); /* Para mantener la integridad visual */
}
/* FIN MEJORA 5 */

.product h3 {
    font-size: 2rem; 
    color: var(--color-primary);
}

.product-actions {
    margin-top: 1.5rem; /* Pequeño ajuste en el margen */
}

/* Botones de Producto (Unificar con clases .btn) */
.add-to-cart-btn {
    @extend .btn-primary; /* En CSS nativo, usar .btn.btn-primary en HTML */
    flex-grow: 1; 
    border-width: 2px;
}

.btn-whatsapp {
    @extend .btn-whatsapp-theme; /* En CSS nativo, usar .btn.btn-whatsapp-theme en HTML */
    flex-grow: 1; 
    border-width: 2px;
}

/* Producto Agotado - MEJORA 6: Superposición más dramática */
.product.sold-out {
    opacity: 0.5; /* Más atenuado */
    pointer-events: none; 
    filter: grayscale(100%); /* Full escala de grises */
}
.product.sold-out::after {
    content: 'AGOTADO';
    /* ... [Estilos existentes] ... */
    background-color: rgba(200, 0, 0, 0.8); /* Rojo más oscuro/dramático */
    box-shadow: 0 0 15px rgba(255, 0, 0, 0.8); /* Glow rojo */
}

/* --- SECCIÓN ENVIOS --- */
.shipping-item:hover {
    transform: translateY(-15px);
    background-color: #333;
    box-shadow: 0 20px 40px rgba(var(--color-primary-rgb), 0.4);
    border-color: var(--color-primary);
}

/* =======================================
    UTILIDADES DE CONVERSIÓN Y UX
    ======================================= */

/* Botón de WhatsApp Fijo */
#whatsapp-fixed-btn {
    /* ... [Estilos existentes] ... */
    transition: transform var(--transition-fast) ease, background var(--transition-fast) ease;
}

/* Botón Volver Arriba */
#back-to-top {
    /* ... [Estilos existentes] ... */
    transition: opacity var(--transition-fast), visibility var(--transition-fast), transform var(--transition-fast);
}

/* Toast (Notificaciones) */
#toast-container {
    top: 100px;
    right: 20px;
    left: auto; /* Asegurar que no se expanda innecesariamente en desktop */
}

.toast {
    background-color: var(--color-primary);
    color: var(--color-secondary);
    font-weight: 700;
    transition: all 0.3s ease; /* Añadido para mejor transición general */
}

.toast.error {
    background-color: var(--color-error);
    color: var(--color-white);
}

/* =======================================
    MODALES (Carrito y Tallas)
    ======================================= */

.cart-modal-content {
    background: var(--color-dark-surface);
    border: 2px solid var(--color-primary);
    animation: slideUp 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

/* MEJORA 7: Estilos de Scrollbar más limpios */
.cart-items-list::-webkit-scrollbar,
#size-guide-table-container::-webkit-scrollbar {
    width: 6px; /* Más delgado */
    height: 6px; 
}
.cart-items-list::-webkit-scrollbar-thumb,
#size-guide-table-container::-webkit-scrollbar-thumb {
    background-color: var(--color-primary);
    border-radius: 3px; /* Más pequeño */
    border: 1px solid var(--color-dark-surface); /* Borde más sutil */
}
/* FIN MEJORA 7 */

/* Botones en Modal */
.btn-primary-confirm {
    @extend .btn-primary; /* En CSS nativo, usar .btn.btn-primary en HTML */
    flex-grow: 1; 
    border-width: 2px;
}
.btn-secondary { /* Botón de Cerrar/Continuar comprando */
    @extend .btn-secondary; /* En CSS nativo, usar .btn.btn-secondary en HTML */
    flex-grow: 1; 
    border-width: 2px;
}
.btn-whatsapp-confirm {
    @extend .btn-whatsapp-theme; /* En CSS nativo, usar .btn.btn-whatsapp-theme en HTML */
    background: var(--color-whatsapp); /* Sobrescribe el transparente */
    color: var(--color-white);
    flex-grow: 2; 
    border-width: 2px;
}

/* =======================================
    MEDIA QUERIES (Responsividad)
    ======================================= */

/* Unificar Cart Item Responsive */
@media (max-width: 768px) {
    /* ... [Otros estilos responsive] ... */
    
    .cart-item {
        /* Simplificar la cuadrícula para móvil para mayor legibilidad */
        grid-template-columns: 1fr 1fr;
        grid-template-areas: 
            "title remove"
            "controls price";
    }
    .item-controls {
        /* Centrar en lugar de alinear a la izquierda */
        justify-content: center;
    }
    .remove-btn {
        text-align: right;
    }
}